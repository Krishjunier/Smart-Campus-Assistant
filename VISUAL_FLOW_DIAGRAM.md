# Smart Campus Assistant - Visual Flow Diagram

## ğŸ¨ User Interface Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Smart Campus Assistant ğŸ“                    [Settings] [@User] [Logout]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   SIDEBAR        â”‚  â”‚          MAIN CONTENT AREA                  â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  ğŸ“¤ Upload Files â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  Tab: ğŸ’¬ Chat  ğŸ“ Summary  ğŸ“‹ Quiz   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Drop files â”‚  â”‚  â”‚  â”‚       ğŸ“š History                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚    here    â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  â”‚     or     â”‚  â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  â”‚   Browse   â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚                                      â”‚    â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚         CHAT INTERFACE               â”‚    â”‚   â”‚
â”‚  â”‚  ğŸ“Š Status       â”‚  â”‚  â”‚                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”     â”‚  â”‚  â”‚  ğŸ¤– AI: How can I help you study?  â”‚    â”‚   â”‚
â”‚  â”‚  3/50 Documents  â”‚  â”‚  â”‚                                      â”‚    â”‚   â”‚
â”‚  â”‚  127 Chunks      â”‚  â”‚  â”‚  ğŸ‘¤ You: What is machine learning?  â”‚    â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚                                      â”‚    â”‚   â”‚
â”‚  â”‚  ğŸ“ Uploaded     â”‚  â”‚  â”‚  ğŸ¤– AI: Machine learning is...      â”‚    â”‚   â”‚
â”‚  â”‚  â€¢ lecture1.pdf  â”‚  â”‚  â”‚      ğŸ“„ Sources: lecture1.pdf       â”‚    â”‚   â”‚
â”‚  â”‚  â€¢ notes.docx    â”‚  â”‚  â”‚                                      â”‚    â”‚   â”‚
â”‚  â”‚  â€¢ slides.pptx   â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚  â”‚ Type your question here...     â”‚ â”‚    â”‚   â”‚
â”‚  â”‚  ğŸ—‘ï¸ Clear All    â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚                            [Send ğŸ“¤] â”‚    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚                        â”‚                                              â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Complete Data Flow

### Flow 1: Initial Page Load

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚
â”‚   Loads     â”‚
â”‚   React App â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ useEffect (on mount)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /api/status    â”‚
â”‚                     â”‚
â”‚  Response:          â”‚
â”‚  {                  â”‚
â”‚    uploaded_docs: 0 â”‚
â”‚    max_limit: 50    â”‚
â”‚    remaining: 50    â”‚
â”‚    doc_list: []     â”‚
â”‚  }                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update UI State:   â”‚
â”‚  - Show 0/50        â”‚
â”‚  - Empty doc list   â”‚
â”‚  - Enable upload    â”‚
â”‚  - Disable summary  â”‚
â”‚  - Disable quiz     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 2: File Upload Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FILE UPLOAD FLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User Action
   â””â”€â–º Click "Upload" or Drag & Drop files

2. Frontend Validation
   â”œâ”€â–º Check file types (PDF, DOCX, PPTX, TXT, MD)
   â”œâ”€â–º Check file count (max 5 per upload)
   â”œâ”€â–º Check file size (warn if > 50MB)
   â””â”€â–º Create preview list

3. Prepare FormData
   â”œâ”€â–º const formData = new FormData()
   â”œâ”€â–º files.forEach(file => formData.append('files', file))
   â””â”€â–º Set loading state = true

4. API Call
   â””â”€â–º POST /api/upload_files
       Content-Type: multipart/form-data
       Body: formData

5. Backend Processing
   â”œâ”€â–º Receive files
   â”œâ”€â–º Validate file types
   â”œâ”€â–º Check for duplicates
   â”‚   â””â”€â–º Compare with uploaded_documents[]
   â”œâ”€â–º Check upload limit (50 max)
   â”œâ”€â–º Save files to uploaded_docs/
   â”œâ”€â–º Process each file:
   â”‚   â”œâ”€â–º Extract text (PDF: pdfplumber, DOCX: unstructured, etc.)
   â”‚   â”œâ”€â–º Split into chunks (1500 chars, 200 overlap)
   â”‚   â”œâ”€â–º Generate embeddings (HuggingFace, 384 dims)
   â”‚   â””â”€â–º Store in ChromaDB
   â”œâ”€â–º Update session_data.json
   â””â”€â–º Update document_hashes.json

6. Response Handling
   â”œâ”€â–º Success (status: 'success')
   â”‚   â”œâ”€â–º Update document count
   â”‚   â”œâ”€â–º Show success message
   â”‚   â”œâ”€â–º Refresh document list
   â”‚   â””â”€â–º Enable summary/quiz buttons
   â”‚
   â”œâ”€â–º Warning (status: 'warning' - duplicates)
   â”‚   â”œâ”€â–º Show duplicate file names
   â”‚   â”œâ”€â–º Update count for new files only
   â”‚   â””â”€â–º Display warning toast
   â”‚
   â”œâ”€â–º Limit Reached (status: 'limit_reached')
   â”‚   â”œâ”€â–º Show limit message
   â”‚   â”œâ”€â–º Suggest clear or remove
   â”‚   â””â”€â–º Disable upload button
   â”‚
   â””â”€â–º Error (status: 'error')
       â”œâ”€â–º Show error message
       â””â”€â–º Keep previous state

7. UI Updates
   â”œâ”€â–º Set loading = false
   â”œâ”€â–º Update progress bar (X/50)
   â”œâ”€â–º Update document list
   â”œâ”€â–º Update chunk count
   â””â”€â–º Enable relevant features
```

### Flow 3: Ask Question Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     QUESTION ANSWERING FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User Input
   â””â”€â–º Types question in chat input
       Example: "What is gradient descent?"

2. Frontend Action
   â”œâ”€â–º Validate input (not empty)
   â”œâ”€â–º Add user message to chat UI
   â”œâ”€â–º Set loading indicator
   â””â”€â–º POST /api/ask { question: "..." }

3. Backend Decision Tree
   â”‚
   â”œâ”€â–º IF uploaded_documents.length === 0
   â”‚   â”‚
   â”‚   â””â”€â–º WIKIPEDIA MODE
   â”‚       â”œâ”€â–º Search Wikipedia API
   â”‚       â”œâ”€â–º Get top result summary
   â”‚       â”œâ”€â–º Format with LLM
   â”‚       â””â”€â–º Return: { type: 'wikipedia', answer, sources: [url] }
   â”‚
   â””â”€â–º ELSE (documents uploaded)
       â”‚
       â””â”€â–º RAG MODE
           â”œâ”€â–º 1. Generate question embedding
           â”‚   â””â”€â–º HuggingFace all-MiniLM-L6-v2 (384 dims)
           â”‚
           â”œâ”€â–º 2. Vector Search
           â”‚   â”œâ”€â–º Query ChromaDB
           â”‚   â”œâ”€â–º Similarity search (k=4)
           â”‚   â””â”€â–º Retrieve relevant chunks
           â”‚
           â”œâ”€â–º 3. Context Preparation
           â”‚   â”œâ”€â–º Format chunks with sources
           â”‚   â””â”€â–º [Source 1 - lecture1.pdf]: chunk text...
           â”‚
           â”œâ”€â–º 4. LLM Generation
           â”‚   â”œâ”€â–º Build prompt:
           â”‚   â”‚   Question: {question}
           â”‚   â”‚   Context: {retrieved_chunks}
           â”‚   â”œâ”€â–º Call Groq API (llama-3.1-8b-instant)
           â”‚   â”œâ”€â–º Temperature: 0.2
           â”‚   â””â”€â–º Streaming: true
           â”‚
           â”œâ”€â–º 5. Save to History
           â”‚   â”œâ”€â–º conversation_history.append(...)
           â”‚   â””â”€â–º session_data.json updated
           â”‚
           â””â”€â–º 6. Return Response
               â””â”€â–º { type: 'rag', answer, sources: [files] }

4. Frontend Display
   â”œâ”€â–º Add assistant message to chat
   â”œâ”€â–º Display answer with formatting
   â”œâ”€â–º Show source badges/links
   â”œâ”€â–º Show type indicator (Wikipedia/RAG)
   â”œâ”€â–º Set loading = false
   â””â”€â–º Auto-scroll to latest message
```

### Flow 4: Generate Summary Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SUMMARY GENERATION FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User Action
   â””â”€â–º Navigate to Summary tab
       Enter topic: "Neural Networks"
       Click "Generate Summary"

2. Frontend Pre-Check
   â”œâ”€â–º GET /api/status
   â””â”€â–º IF uploaded_documents === 0
       â”œâ”€â–º Show alert: "Upload documents first"
       â””â”€â–º STOP

3. API Call
   â””â”€â–º POST /api/summarize { topic: "Neural Networks" }

4. Backend Processing
   â”œâ”€â–º Check uploaded_documents
   â”‚   â””â”€â–º IF empty: return error
   â”‚
   â”œâ”€â–º Vector Search
   â”‚   â”œâ”€â–º Generate topic embedding
   â”‚   â”œâ”€â–º Search ChromaDB (k=8 chunks)
   â”‚   â””â”€â–º Retrieve relevant content
   â”‚
   â”œâ”€â–º Content Combination
   â”‚   â”œâ”€â–º Combine retrieved chunks
   â”‚   â”œâ”€â–º Add source metadata
   â”‚   â””â”€â–º Truncate if > 5000 chars
   â”‚
   â”œâ”€â–º LLM Summarization
   â”‚   â”œâ”€â–º Prompt: "Create structured summary..."
   â”‚   â”œâ”€â–º Call Groq API
   â”‚   â””â”€â–º Generate formatted summary
   â”‚
   â””â”€â–º Return: { success: true, summary: "..." }

5. Frontend Display
   â”œâ”€â–º Parse Markdown formatting
   â”œâ”€â–º Display with syntax highlighting
   â”œâ”€â–º Add copy button
   â”œâ”€â–º Add export PDF option
   â””â”€â–º Show generation time
```

### Flow 5: Generate Quiz Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     QUIZ GENERATION FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User Action
   â””â”€â–º Navigate to Quiz tab
       Topic: "Python Functions"
       Questions: 5
       Click "Generate Quiz"

2. Frontend Pre-Check
   â”œâ”€â–º GET /api/status
   â””â”€â–º IF uploaded_documents === 0
       â”œâ”€â–º Show alert
       â””â”€â–º STOP

3. API Call
   â””â”€â–º POST /api/quiz { 
       topic: "Python Functions",
       num_questions: 5 
     }

4. Backend Processing
   â”œâ”€â–º Vector Search
   â”‚   â”œâ”€â–º Search for topic (k=3 chunks)
   â”‚   â””â”€â–º Get relevant content
   â”‚
   â”œâ”€â–º LLM Quiz Generation
   â”‚   â”œâ”€â–º Prompt with instructions:
   â”‚   â”‚   - Create N questions
   â”‚   â”‚   - Multiple choice (A, B, C, D)
   â”‚   â”‚   - Indicate correct answer
   â”‚   â”‚   - Add explanations
   â”‚   â”‚   - Mix difficulty levels
   â”‚   â”œâ”€â–º Call Groq API
   â”‚   â””â”€â–º Generate formatted quiz
   â”‚
   â””â”€â–º Return: { success: true, quiz: "..." }

5. Frontend Display
   â”œâ”€â–º Parse quiz format
   â”œâ”€â–º Display questions with options
   â”œâ”€â–º Hide answers initially
   â”œâ”€â–º Add "Show Answer" button per question
   â”œâ”€â–º Track user selections
   â”œâ”€â–º Calculate score
   â””â”€â–º Add "Retry" button
```

### Flow 6: View History Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     HISTORY VIEWING FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User Action
   â””â”€â–º Click "History" tab

2. API Call
   â””â”€â–º GET /api/history?limit=10

3. Backend Processing
   â”œâ”€â–º Load conversation_history from memory
   â”œâ”€â–º Get last N items
   â””â”€â–º Return with timestamps

4. Frontend Display
   â”œâ”€â–º Sort by timestamp (newest first)
   â”œâ”€â–º Display as expandable cards:
   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   â”‚ Q: What is machine learning?â”‚
   â”‚   â”‚ Dec 3, 2025 10:30 AM        â”‚
   â”‚   â”‚ [Expand â–¼]                  â”‚
   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â”‚   When expanded:
   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   â”‚ Q: What is machine learning?â”‚
   â”‚   â”‚ Dec 3, 2025 10:30 AM        â”‚
   â”‚   â”‚                             â”‚
   â”‚   â”‚ A: Machine learning is...   â”‚
   â”‚   â”‚ Sources: lecture1.pdf       â”‚
   â”‚   â”‚ [Collapse â–²]                â”‚
   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â”œâ”€â–º Add search/filter
   â”œâ”€â–º Add date range selector
   â””â”€â–º Add export button
```

### Flow 7: Clear Documents Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLEAR DOCUMENTS FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. User Action
   â””â”€â–º Click "Clear All" button

2. Frontend Confirmation
   â”œâ”€â–º Show modal/dialog:
   â”‚   "Are you sure? This will delete all uploaded
   â”‚    documents and conversation history."
   â”‚   [Cancel] [Yes, Clear All]
   â”‚
   â””â”€â–º IF confirmed, proceed

3. API Call
   â””â”€â–º POST /api/clear

4. Backend Processing
   â”œâ”€â–º Clear ChromaDB collection
   â”œâ”€â–º Clear uploaded_documents[]
   â”œâ”€â–º Clear conversation_history[]
   â”œâ”€â–º Update session_data.json
   â””â”€â–º Return: { success: true, message: "Cleared" }

5. Frontend Updates
   â”œâ”€â–º Reset all state:
   â”‚   â”œâ”€â–º documentCount = 0
   â”‚   â”œâ”€â–º documentList = []
   â”‚   â”œâ”€â–º chatHistory = []
   â”‚   â”œâ”€â–º conversationHistory = []
   â”‚   â””â”€â–º currentSummary = null
   â”‚
   â”œâ”€â–º Update UI:
   â”‚   â”œâ”€â–º Show 0/50 documents
   â”‚   â”œâ”€â–º Empty chat
   â”‚   â”œâ”€â–º Disable summary/quiz
   â”‚   â””â”€â–º Show success message
   â”‚
   â””â”€â–º Return to initial state
```

## ğŸ“Š State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     REACT STATE MANAGEMENT                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

App State (Global Context or Redux)
â”œâ”€â”€â”€ documentState
â”‚    â”œâ”€â”€â”€ count: number
â”‚    â”œâ”€â”€â”€ list: string[]
â”‚    â”œâ”€â”€â”€ maxLimit: number
â”‚    â”œâ”€â”€â”€ remainingSlots: number
â”‚    â””â”€â”€â”€ totalChunks: number
â”‚
â”œâ”€â”€â”€ chatState
â”‚    â”œâ”€â”€â”€ messages: ChatMessage[]
â”‚    â”œâ”€â”€â”€ isLoading: boolean
â”‚    â”œâ”€â”€â”€ currentQuestion: string
â”‚    â””â”€â”€â”€ error: string | null
â”‚
â”œâ”€â”€â”€ summaryState
â”‚    â”œâ”€â”€â”€ currentSummary: string | null
â”‚    â”œâ”€â”€â”€ isGenerating: boolean
â”‚    â”œâ”€â”€â”€ topic: string
â”‚    â””â”€â”€â”€ error: string | null
â”‚
â”œâ”€â”€â”€ quizState
â”‚    â”œâ”€â”€â”€ currentQuiz: string | null
â”‚    â”œâ”€â”€â”€ isGenerating: boolean
â”‚    â”œâ”€â”€â”€ topic: string
â”‚    â”œâ”€â”€â”€ numQuestions: number
â”‚    â”œâ”€â”€â”€ userAnswers: Record<number, string>
â”‚    â””â”€â”€â”€ score: number | null
â”‚
â””â”€â”€â”€ historyState
     â”œâ”€â”€â”€ conversations: ConversationItem[]
     â”œâ”€â”€â”€ isLoading: boolean
     â”œâ”€â”€â”€ filter: string
     â””â”€â”€â”€ dateRange: [Date, Date] | null

Component State (Local)
â”œâ”€â”€â”€ FileUpload
â”‚    â”œâ”€â”€â”€ selectedFiles: File[]
â”‚    â”œâ”€â”€â”€ isDragging: boolean
â”‚    â””â”€â”€â”€ uploadProgress: number
â”‚
â”œâ”€â”€â”€ ChatInterface
â”‚    â”œâ”€â”€â”€ inputValue: string
â”‚    â””â”€â”€â”€ isTyping: boolean
â”‚
â””â”€â”€â”€ DocumentList
     â”œâ”€â”€â”€ expandedItems: Set<string>
     â””â”€â”€â”€ searchQuery: string
```

## ğŸ¯ Component Communication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPONENT COMMUNICATION                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

App (Root)
  â”‚
  â”œâ”€â–º useSmartCampus() hook
  â”‚   â””â”€â–º Provides all API methods
  â”‚
  â”œâ”€â–º AppContext.Provider
  â”‚   â””â”€â–º Shares global state
  â”‚
  â””â”€â–º Child Components
      â”‚
      â”œâ”€â–º StatusBar
      â”‚   â”œâ”€â–º Subscribes to: documentState
      â”‚   â””â”€â–º Displays: count, progress bar
      â”‚
      â”œâ”€â–º FileUpload
      â”‚   â”œâ”€â–º Uses: uploadFiles() from hook
      â”‚   â”œâ”€â–º Updates: documentState
      â”‚   â””â”€â–º Emits: onUploadComplete event
      â”‚
      â”œâ”€â–º ChatInterface
      â”‚   â”œâ”€â–º Uses: askQuestion() from hook
      â”‚   â”œâ”€â–º Updates: chatState
      â”‚   â”œâ”€â–º Reads: documentState.count
      â”‚   â””â”€â–º Auto-switches to Wikipedia if count === 0
      â”‚
      â”œâ”€â–º SummaryGenerator
      â”‚   â”œâ”€â–º Uses: generateSummary() from hook
      â”‚   â”œâ”€â–º Updates: summaryState
      â”‚   â””â”€â–º Validates: documentState.count > 0
      â”‚
      â”œâ”€â–º QuizGenerator
      â”‚   â”œâ”€â–º Uses: generateQuiz() from hook
      â”‚   â”œâ”€â–º Updates: quizState
      â”‚   â””â”€â–º Validates: documentState.count > 0
      â”‚
      â””â”€â–º HistoryViewer
          â”œâ”€â–º Uses: getHistory() from hook
          â””â”€â–º Updates: historyState
```

## ğŸ” Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ERROR HANDLING STRATEGY                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

API Call
  â”‚
  â”œâ”€â–º try {
  â”‚     const response = await fetch(...)
  â”‚     const data = await response.json()
  â”‚     
  â”‚     â”œâ”€â–º IF !response.ok
  â”‚     â”‚   â””â”€â–º throw new Error(data.error || 'Request failed')
  â”‚     â”‚
  â”‚     â”œâ”€â–º IF !data.success
  â”‚     â”‚   â”œâ”€â–º Check error type:
  â”‚     â”‚   â”‚   â”œâ”€â–º "No documents uploaded" â†’ Show upload prompt
  â”‚     â”‚   â”‚   â”œâ”€â–º "Limit reached" â†’ Show clear/manage modal
  â”‚     â”‚   â”‚   â”œâ”€â–º "Duplicate files" â†’ Show warning toast
  â”‚     â”‚   â”‚   â””â”€â–º Other â†’ Show error message
  â”‚     â”‚   â””â”€â–º Return null or default value
  â”‚     â”‚
  â”‚     â””â”€â–º ELSE return data
  â”‚   }
  â”‚
  â””â”€â–º catch (error) {
        â”œâ”€â–º IF TypeError (network error)
        â”‚   â””â”€â–º "Cannot connect to server. Is it running?"
        â”‚
        â”œâ”€â–º IF AbortError (timeout)
        â”‚   â””â”€â–º "Request timed out. Try again."
        â”‚
        â””â”€â–º ELSE
            â””â”€â–º "An error occurred: {error.message}"
      }
      finally {
        â””â”€â–º setLoading(false)
      }
```

## âš¡ Performance Optimization Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PERFORMANCE OPTIMIZATIONS                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Debouncing
   â””â”€â–º Search inputs debounced by 300ms
       â”œâ”€â–º Prevents excessive API calls
       â””â”€â–º Improves user experience

2. Caching
   â””â”€â–º Status response cached for 30 seconds
       â”œâ”€â–º Reduces server load
       â””â”€â–º Faster UI updates

3. Lazy Loading
   â””â”€â–º History loaded on demand
       â”œâ”€â–º Initial load: first 10 items
       â””â”€â–º Scroll: load more (pagination)

4. Optimistic Updates
   â””â”€â–º Show messages immediately
       â”œâ”€â–º Add to UI before API response
       â””â”€â–º Update with actual response

5. Code Splitting
   â””â”€â–º React.lazy() for routes
       â”œâ”€â–º Chat: lazy load on tab switch
       â”œâ”€â–º Summary: lazy load on tab switch
       â””â”€â–º Quiz: lazy load on tab switch

6. Memoization
   â””â”€â–º useMemo for expensive computations
       â”œâ”€â–º Document list filtering
       â”œâ”€â–º Chat message rendering
       â””â”€â–º Quiz score calculation

7. Virtual Scrolling
   â””â”€â–º For long lists (>100 items)
       â”œâ”€â–º History list
       â””â”€â–º Document list
```

## ğŸ¨ UI/UX Flow Patterns

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     UI/UX PATTERNS                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Loading States
â”œâ”€â–º Skeleton screens for initial load
â”œâ”€â–º Spinner for API calls
â”œâ”€â–º Progress bar for file uploads
â””â”€â–º Typing indicator for chat

Empty States
â”œâ”€â–º No documents: Show upload prompt with illustration
â”œâ”€â–º No chat: Show example questions
â”œâ”€â–º No history: "Start by asking a question"
â””â”€â–º No quiz: "Generate your first quiz"

Success Feedback
â”œâ”€â–º Toast notifications (3s duration)
â”œâ”€â–º Success checkmarks
â”œâ”€â–º Smooth animations
â””â”€â–º Haptic feedback (mobile)

Error States
â”œâ”€â–º Inline error messages (red)
â”œâ”€â–º Error toasts (auto-dismiss)
â”œâ”€â–º Retry buttons
â””â”€â–º Help links

Progressive Disclosure
â”œâ”€â–º Collapse long answers
â”œâ”€â–º Expandable history items
â”œâ”€â–º Show/hide quiz answers
â””â”€â–º Advanced settings hidden by default

Responsive Design
â”œâ”€â–º Desktop (>1024px): 3-column layout
â”œâ”€â–º Tablet (768-1024px): 2-column layout
â”œâ”€â–º Mobile (<768px): Single column, drawer sidebar
â””â”€â–º Touch-friendly buttons (min 44px)
```

---

**This visual flow diagram provides a complete overview of how data flows through the Smart Campus Assistant system, from user interactions to API calls to UI updates. Use this as your blueprint for building the React frontend!**
